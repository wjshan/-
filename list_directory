from email.mime import base
from json.tool import main
import os
from platform import release
import typing
import urllib.parse
def list_directory(base_path,level=0,ignores:typing.List=None):
    ignores = ignores or []
    for file_name in os.listdir(base_path):
        if file_name in ignores:
            continue
        yield base_path,file_name,level
        file_path = os.path.join(base_path,file_name)
        if os.path.isdir(file_path):
            yield from list_directory(file_path,level+1,ignores=ignores)
if __name__ == "__main__":
    doc_strings = []
    for path,name,level in list_directory("docs",0,[".DS_Store","assets",".ipynb_checkpoints",".gitignore"]):
        sub_name,_ = os.path.splitext(name)
        path = path.replace("docs/","")
        http_path = f"http://public-note.danwj.cn/{path}/{sub_name}"
        http_path = urllib.parse.quote_plus(http_path)
        doc_strings.append("  "*level+f"- [{sub_name}]({http_path})")
    print("\n".join(doc_strings))